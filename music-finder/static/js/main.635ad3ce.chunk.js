(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{60:function(e,t,a){e.exports=a(87)},65:function(e,t,a){},87:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(20),c=a.n(o),i=(a(65),a(22)),l=a(50),s={search:{}},u="LOAD_SEARCH_RESULT",m="CLEAR_SEARCH_RESULT";var p=Object(i.c)({search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.search,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return t.response;case m:return s.search;default:return e}}}),h=Object(i.d)(p,Object(i.a)(l.a)),d=a(25),f=a(11),b=a(16),y=a(15),v=a(17),g=a(110),E=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(b.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(o)))).render=function(){return r.a.createElement("div",{style:{flexGrow:"1"}},r.a.createElement(g.a,{container:!0,spacing:3,direction:"row",justify:"center"},a.props.search.artists&&a.props.search.artists.items.map(function(e){return r.a.createElement(z,{data:e})}),a.props.search.albums&&a.props.search.albums.items.map(function(e){return r.a.createElement(H,{data:e})}),a.props.search.tracks&&a.props.search.tracks.items.map(function(e){return r.a.createElement(q,{data:e})})))},a}return Object(v.a)(t,e),t}(n.Component);var j=Object(d.b)(function(e,t){return{search:e.search}})(E),O=a(38),w=a(52),x=a(53),C=a.n(x),S=function e(){var t=this;Object(f.a)(this,e),this.queryFor=function(e,a){return t.endpoint()+"/v1/search?q="+a+"&type="+e},this.endpoint=function(){return"dev"===Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_ENVIRONMENT?"http://localhost:8080":"https://api.spotify.com"}},A=function(){function e(){Object(f.a)(this,e)}return Object(w.a)(e,null,[{key:"search",value:function(e,t){var a=(new S).queryFor(e,t);return this.get(a)}},{key:"getHeaders",value:function(){var e=localStorage.getItem("authKey");return e||this.authorize(),{"Content-Type":"application/json",Authorization:"Bearer "+e}}},{key:"authorize",value:function(){window.location.href="https://accounts.spotify.com/authorize?response_type=token&redirect_uri="+encodeURIComponent("http://localhost:3000")+"&client_id=68a59e233a7a40cc93cd10982a556759"}}]),e}();A.get=function(e){return C()({method:"get",url:e,headers:A.getHeaders()}).then(function(e){return e}).catch(function(e){return localStorage.removeItem("authKey"),{}})};var k=a(111),_=a(112),N=a(88),R=a(113),T=a(114),B=a(119),I=a(120),M=a(115),P=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(b.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(o)))).state={type:"artist",text:""},a.handleChange=function(e){a.setState(Object(O.a)({},a.state,{type:e.target.value}))},a.searchMusic=function(){var e,t;a.props.dispatch((e=a.state.type,t=a.state.text,function(a){return a({type:m}),A.search(e,t).then(function(e){a({type:u,response:e.data})}).catch(function(e){a({type:u,response:{}})})}))},a.render=function(){var e=Object(k.a)(function(e){return{root:{display:"flex"},formControl:{margin:e.spacing(3)}}});return r.a.createElement(_.a,{className:e.formControl},r.a.createElement(N.a,{row:!0},r.a.createElement(R.a,{"aria-label":"position",name:"position",value:a.state.type,onChange:a.handleChange,row:!0},r.a.createElement(T.a,{value:"artist",control:r.a.createElement(B.a,{color:"primary"}),label:"Artist",labelPlacement:"start"}),r.a.createElement(T.a,{value:"album",control:r.a.createElement(B.a,{color:"primary"}),label:"Album",labelPlacement:"start"}),r.a.createElement(T.a,{value:"track",control:r.a.createElement(B.a,{color:"primary"}),label:"Track",labelPlacement:"start"})),r.a.createElement(T.a,{control:r.a.createElement(I.a,{id:"txtSearch",placeholder:"Your search",onChange:function(e){return a.setState(Object(O.a)({},a.state,{text:e.target.value}))}}),style:{"padding-left":"30px"}}),r.a.createElement(M.a,{id:"btnSearch",onClick:a.searchMusic,variant:"contained",color:"primary",className:e.button},"Search")))},a}return Object(v.a)(t,e),t}(n.Component),L=Object(d.b)()(P),U=a(89),z=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(b.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(o)))).render=function(){var e=a.props.data;return r.a.createElement(J,{image:e.images[0]?e.images[0].url:""},r.a.createElement(U.a,{gutterBottom:!0,variant:"h5",component:"h2"},e.name),r.a.createElement(U.a,{variant:"body2",color:"textSecondary",component:"p"},e.genres.join(", ")),r.a.createElement(U.a,{variant:"body2",color:"textSecondary",component:"p"},"Popularity: "+e.popularity))},a}return Object(v.a)(t,e),t}(n.Component),H=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(b.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(o)))).artistsName=function(){return a.props.data.artists.map(function(e){return e.name})},a.availableMarkets=function(e){return e.map(function(e){return e})},a.render=function(){var e=a.props.data;return r.a.createElement(J,{image:e.images[0]?e.images[0].url:""},r.a.createElement(U.a,{gutterBottom:!0,variant:"h5",component:"h2"},e.name),r.a.createElement(U.a,{variant:"body2",color:"textSecondary",component:"p"},a.artistsName().join(", ")),r.a.createElement(U.a,{variant:"body2",color:"textSecondary",component:"p"},"Availability: "+e.available_markets.join(", ")))},a}return Object(v.a)(t,e),t}(n.Component),q=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(b.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(o)))).millisToMinutes=function(e){var t=Math.floor(e/6e4),a=(e%6e4/1e3).toFixed(0);return t+":"+(a<10?"0":"")+a},a.render=function(){var e=a.props.data;return r.a.createElement(J,{image:e.album.images[0]?e.album.images[0].url:""},r.a.createElement(U.a,{gutterBottom:!0,variant:"h5",component:"h2"},e.name),r.a.createElement(U.a,{variant:"body2",color:"textSecondary",component:"p"},"Artists: "+e.artists.map(function(e){return e.name}).join(", ")),r.a.createElement(U.a,{variant:"body2",color:"textSecondary",component:"p"},"Album: "+e.album.name),r.a.createElement(U.a,{variant:"body2",color:"textSecondary",component:"p"},"Duration: "+a.millisToMinutes(e.duration_ms)))},a}return Object(v.a)(t,e),t}(n.Component),D=a(121),F=a(116),K=a(117),W=a(118),J=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(b.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(o)))).render=function(){return r.a.createElement(g.a,{item:!0,xs:!0,style:{"max-width":"350px",width:"350px"}},r.a.createElement(D.a,{style:{margin:"10px"}},r.a.createElement(F.a,null,r.a.createElement(K.a,{component:"img",image:a.props.image,style:{height:"140px",width:"350px"}}),r.a.createElement(W.a,{style:{"text-align":"left"}},a.props.children))))},a}return Object(v.a)(t,e),t}(n.Component);var V=function(){return window.location.hash&&window.location.hash.substr(1).split("&").forEach(function(e){e.startsWith("access_token=")&&(localStorage.setItem("authKey",e.replace("access_token=","")),window.location.replace(window.location.origin))}),r.a.createElement(d.a,{store:h},r.a.createElement("div",{style:{"text-align":"center"}},r.a.createElement(L,null),r.a.createElement(j,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[60,1,2]]]);